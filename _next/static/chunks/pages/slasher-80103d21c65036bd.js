(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{22377:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/slasher",function(){return n(50113)}])},50113:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var i=n(85893),a=n(86886),s=n(66242),r=n(69077),l=n(67294),o=n(66730),c=n(51039),d=n(15861),u=n(46817),h=n(83321),f=n(99937),x=n(18542),g=n(92599),p=n(2593);let y=n(52325).tt;async function j(e){let{proof:t,publicSignals:n}=e,i=await y.exportSolidityCallData(t,n),a=i.replace(/["[\]\s]/g,"").split(",").map(p.O$.from),[s,r,l,o,c,d,u,h,...f]=a;return[[s,r],[[l,o],[c,d]],[u,h],f]}async function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"./slash.wasm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"./slash.zkey",{proof:i,publicSignals:a}=await y.fullProve(e,t,n),s=await j({proof:i,publicSignals:a});return s}function w(e){let{}=e,[t,n]=(0,l.useState)(""),[s,r]=(0,l.useState)(!1),c=(0,o.A)(),[p,y]=(0,l.useState)([]),[j,w]=(0,l.useState)(!1);async function m(e){r(!0);let t=await (0,f.a4)({address:c,abi:x.Z,functionName:"getRelayer",args:[e]}),n={relayer:t[0].toString(),receiver:t[1].toString(),amount:t[2].toString(),hash:t[3].toString()},i=await S(n);y(i)}async function Z(e){r(!0);let t=await (0,f.$q)({address:c,abi:x.Z,functionName:"slash",args:[p,e]}),{hash:n}=await (0,f.n9)(t);await (0,f.Mn)({hash:n})}return(0,l.useEffect)(()=>{let e=0!==p.length;w(e)},[p]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.ZP,{container:!0,rowSpacing:2,justifyContent:"center",children:[(0,i.jsx)(a.ZP,{container:!0,item:!0,alignItems:"center",justifyContent:"center",sx:{padding:"0 0 0 0"},children:(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsx)(d.Z,{display:"inline-block",sx:{fontSize:"20px"},children:"Slasher"})})}),(0,i.jsx)(a.ZP,{container:!0,item:!0,alignItems:"center",justifyContent:"center",sx:{padding:"0 0 0 0"},children:(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsx)(d.Z,{display:"inline-block",sx:{fontSize:"20px"},children:j?"2. You can try to slashing relayer.":"1. You need to generate proof first."})})}),(0,i.jsx)(a.ZP,{container:!0,item:!0,children:(0,i.jsx)(u.Z,{type:"string",label:"Relayer Address",placeholder:"enter address",onChange:e=>{n(e.target.value)},disabled:s,style:{width:"100%"}})}),(0,i.jsx)(a.ZP,{container:!0,item:!0,xs:12,columnSpacing:3,justifyContent:"center",children:(0,i.jsx)(a.ZP,{item:!0,children:(0,i.jsx)(h.Z,{variant:"contained",disabled:s,color:j?"error":"info",style:{textTransform:"none"},sx:{width:"120px"},onClick:()=>{0===p.length?m(t).finally(()=>{r(!1)}):Z(t).finally(()=>{r(!1)})},children:j?"Slash":"Generate"})})})]}),(0,i.jsx)(g.o,{open:s,title:j?"Slashing...":"Generating Proof...."})]})}function m(e){let{valAddress:t}=e;(0,o.h)();let{address:n}=(0,r.mA)(),[a,d]=(0,l.useState)(!1),[u,h]=(0,l.useState)((0,c.p)()),[f,x]=(0,l.useState)(0),[g,p]=(0,l.useState)(0);return(0,i.jsx)(s.Z,{sx:{p:5,backgroundColor:"rgba(124,124,124)",boxShadow:"0px 0px",width:"50%"},style:{borderRadius:"20px"},children:(0,i.jsx)(w,{})})}var Z=function(e){return(0,i.jsx)(a.ZP,{sx:{m:0},container:!0,rowSpacing:4,children:(0,i.jsx)(a.ZP,{container:!0,item:!0,justifyContent:"center",children:(0,i.jsx)(m,{})})})}},27790:function(){},95979:function(){},82825:function(){}},function(e){e.O(0,[792,920,808,68,714,449,657,817,970,92,560,774,888,179],function(){return e(e.s=22377)}),_N_E=e.O()}]);