(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{60777:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/relayer",function(){return t(269)}])},269:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var i=t(85893),a=t(86886),s=t(66242),r=t(15861),l=t(69077),c=t(67294),o=t(66730),d=t(83321),u=t(99937),x=t(18542),h=t(59495),f=t(56371),p=t(92599);function m(e){let{isRelayer:n,disabled:t,label:a}=e,[s,r]=(0,c.useState)(!1),m=(0,o.A)(),{address:j}=(0,l.mA)(),y=(0,o.h)();async function g(){r(!0);let e=await (0,u.$q)({address:y,abi:h.H,functionName:"approve",args:[m.toString(),(0,f.parseEther)("1")]}),{hash:n}=await (0,u.n9)(e);await (0,u.Mn)({confirmations:3,hash:n});let t=await (0,u.$q)({address:m,abi:x.Z,functionName:"register"}),{hash:i}=await (0,u.n9)(t);await (0,u.Mn)({confirmations:3,hash:i})}async function b(){r(!0);let e=await (0,u.$q)({address:m,abi:x.Z,functionName:"quit"}),{hash:n}=await (0,u.n9)(e);await (0,u.Mn)({confirmations:3,hash:n})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{variant:"contained",disabled:s,disableElevation:!0,color:"success",style:{textTransform:"none"},sx:{width:"120px"},onClick:()=>{console.log(n),n?b().finally(()=>{r(!1)}):g().finally(()=>{r(!1)})},children:a}),(0,i.jsx)(p.o,{open:s})]})}var j=t(51039);function y(e){let{valAddress:n}=e;(0,o.A)();let{address:t}=(0,l.mA)(),[d,u]=(0,c.useState)((0,j.Q)()),[h,f]=(0,c.useState)(function(){let e=(0,o.A)(),{address:n}=(0,l.mA)(),{data:t}=(0,l.do)({address:e,abi:x.Z,functionName:"registered",args:[n]});return!!t}()),[p,y]=(0,c.useState)(function(){let e=(0,o.A)(),{address:n}=(0,l.mA)(),{data:t}=(0,l.do)({address:e,abi:x.Z,functionName:"isBan",args:[n]});return!!t}());return(0,i.jsxs)(s.Z,{sx:{p:5,backgroundColor:"rgba(124,124,124)",boxShadow:"0px 0px",width:"50%"},style:{borderRadius:"20px"},children:[(0,i.jsx)(a.ZP,{container:!0,item:!0,alignItems:"center",justifyContent:"center",sx:{padding:"0 0 20px 0"},children:(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsx)(r.Z,{display:"inline-block",sx:{fontSize:"20px"},children:"Relayer"})})}),p?(0,i.jsx)(a.ZP,{container:!0,item:!0,alignItems:"center",justifyContent:"center",sx:{padding:"0 0 20px 0"},children:(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsx)(r.Z,{display:"inline-block",sx:{fontSize:"20px"},children:"You are a bad guy"})})}):(0,i.jsxs)(i.Fragment,{children:[h?(0,i.jsx)(a.ZP,{container:!0,item:!0,alignItems:"center",justifyContent:"center",sx:{padding:"0 0 20px 0"},children:(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsx)(r.Z,{display:"inline-block",sx:{fontSize:"20px"},children:"You already registered"})})}):(0,i.jsx)(a.ZP,{container:!0,item:!0,alignItems:"center",justifyContent:"center",sx:{padding:"0 0 20px 0"},children:(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsx)(r.Z,{display:"inline-block",sx:{fontSize:"20px"},children:Number(d)>1?(0,i.jsxs)(i.Fragment,{children:["You have ",d," EE",(0,i.jsx)("br",{}),"You can register relayer \uD83E\uDD73"]}):(0,i.jsx)(i.Fragment,{children:"You need to have more than1 EE"})})})}),(0,i.jsx)(a.ZP,{container:!0,item:!0,xs:12,alignItems:"center",justifyContent:"center",children:Number(d)>1?(0,i.jsx)(m,{isRelayer:h,label:h?"Quit":"Register"}):null})]})]})}var g=function(e){return(0,i.jsx)(a.ZP,{sx:{m:0},container:!0,rowSpacing:4,children:(0,i.jsx)(a.ZP,{container:!0,item:!0,justifyContent:"center",children:(0,i.jsx)(y,{})})})}}},function(e){e.O(0,[449,657,560,774,888,179],function(){return e(e.s=60777)}),_N_E=e.O()}]);